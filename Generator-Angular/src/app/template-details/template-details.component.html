<div class="dashboard-layout d-flex">
 <sidebar></sidebar>
<div class="template-details-container">
<div class="back-button-wrapper">
  <button class="btn btn-back" (click)="goBack()">
    <i class="material-icons me-1">arrow_back</i> Retour
  </button>
</div>


  <div *ngIf="template" class="template-presentation">
    <!-- Aper√ßu dynamique du template -->
    <div class="preview-box">
      <div
        *ngIf="parsedStructure?.sections?.length; else noPreview"
        [ngStyle]="parsedStyles"
        class="dynamic-preview"
      >
        <div *ngFor="let section of parsedStructure.sections">
          <ng-container [ngSwitch]="section.type">
            <h2 *ngSwitchCase="'title'">{{ section.content || 'Titre par d√©faut' }}</h2>
              <p *ngSwitchCase="'text'">{{ section.content || 'üö® Contenu manquant !' }}</p>
            <div *ngSwitchDefault>Type inconnu</div>
          </ng-container>
        </div>
      </div>

      <ng-template #noPreview>
        <div class="no-preview">Aper√ßu indisponible</div>
      </ng-template>
    </div>

    <!-- D√©tails du template -->
<div class="info-box">
  <h1 class="template-title">{{ template.name }}</h1>

  <p><strong>Cat√©gorie :</strong> <span class="text-muted">{{ template.category }}</span></p>

  <div class="json-section">
    <p><strong>Structure :</strong></p>
    <pre class="json-block">{{ template.structure | json }}</pre>
  </div>

  <div class="json-section">
    <p><strong>Styles :</strong></p>
    <pre class="json-block">{{ template.styles | json }}</pre>
  </div>

  <p>
    <strong>Public :</strong>
    <span [ngClass]="template.isPublic ? 'public-yes' : 'public-no'">
      {{ template.isPublic ? 'Oui' : 'Non' }}
    </span>
  </p>
</div>

</div>
